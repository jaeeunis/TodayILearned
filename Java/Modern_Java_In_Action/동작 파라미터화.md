# Modern Java In Action

## CHAPTER 2 동작 파라미터화 코드 전달하기



### 동작 파라미터화

> 동작 파라미터화란 아직은 어떻게 실행할 것인지 결정하지 않은 코드 블록을 의미한다. 이 코드 블록은 나중에 프로그램에서 호출되기 때문에, 코드 블록의 실행이 나중으로 미뤄지면서 다양한 기능들을 수행할 수 있다.
> **자주 바뀌는 요구사항에 효과적으로 대응할 수 있고 장기적으로 유지보수가 쉬워진다.**

*이전에 처음 개발자로 일을 하면서 요구사항에 대해서 장기적으로 생각하지 않고 단순히 기능만 구현했던 상황이 생각나는데, 좋은 코드는 단순히 기능을 구현하는 것 이상으로 장기적으로 코드를 활용할 수 있는 부분까지 생각하는 것이 중요하다는 것을 느꼈다.*

<br>

#### 1-1 구체적인 필터링

```java
public static List<Computer> filterWeightComputers(List<Computer> invenctory) {
	List<Computer> result = new ArrayList<Computer>();
	for (Computer computer : result) {
		if (computer.getWeight < 200) { //나중에 200이 아닌 다른 무게 또는 브랜드를 원한다면!?
			result.add(computer);
		}
	}
	return result;
}
```

만약 사용자가 무게가 아니라 브랜드, 색상에 따라서 정보를 얻고 싶다면 계속해서 조건문을 추가 해야하는 문제점이 발생한다. 그러므로 코드가 반복 존재한다면 **추상화**를 해야한다. 단순히 무게나, 브랜드를 파라미터 값으로 추가해서 문제점을 해결할 수 있지만 또 더 많은 요구조건들이 늘어나면 계속해서 파라미터와 조건문을 추가할 것인가!? 
소프트웨어 공학의 DRY(Don't Repeat Yourself, 같은 것을 반복하지 말 것) 원칙을 어기는 것이라고 한다. 

<br>

### 1-2 동작 파라미터화

요구사항에 유연하게 대응할 수 있는 방법이 절실하다! 참 또는 거짓을 반환하는 함수를 프레디케이트라고 하며, 선택 조건을 결정하는 인터페이스를 정의해보자. 인터페이스의 조건에 따라 메서드가 다르게 동작하는데, 이를 **전략 디자인 패턴**이라고 한다.

```java
public interface ComputerPredicate {
  boolean test (Computer computer)
}

public class ComputerWeightPredicatet implements ComputerPredicate {
  public boolean test(Computer computer) {
    return computer.getWeight() > 200;
  }
}

public class ComputerColorPredicate implements ComputerPredicate {
  public boolean test(Computer computer) {
    return WHITE.equals(computer.getColor());
  }
}
```



`전략 디자인 패턴` : 전략 패턴 또는 정책 패턴은 실행 중에 알고리즘을 선택할 수 있게 하는 행위 소프트웨어 디자인 패턴이다. 전략 패턴은 특정한 계열의 알고리즘들을 정의하고 각 알고리즘을 캡슐화하며 이 알고리즘들을 해당 계열 안에서 상호 교체가 가능하게 만든다. <a href="https://ko.wikipedia.org/wiki/%EC%A0%84%EB%9E%B5_%ED%8C%A8%ED%84%B4"> 위키백과 전략 디자인 패턴 </a>

<br>

